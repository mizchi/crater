<!DOCTYPE html>
<meta charset="utf-8">
<title>CSS Test: CSS display:contents in multicolumn layout</title>
<!-- Imported from: https://bugzilla.mozilla.org/show_bug.cgi?id=907396 -->
<link rel="author" title="Mats Palmgren" href="mailto:mats@mozilla.com">
<link rel="author" title="Emilio Cobos Ãlvarez" href="mailto:ecobos@igalia.com">
<link rel="help" href="https://drafts.csswg.org/css-display-3/#valdef-display-contents">
<link rel="match" href="display-contents-multicol-001-ref.html">
<style>/* Inlined from support/acid.css */
html, body {
  color: black;
  background-color: white;
  font-size: 16px;
  padding: 0;
  margin: 0;
}

body { color: red; }

.table {
  display: table;
  border-collapse: collapse;
  border: blue solid 1pt;
}

.itable { display: inline-table; }
.caption { display: table-caption; }
.cell {
  display: table-cell;
  border: inherit;
}
.row {
  display: table-row;
  border: green dashed 1pt;
}
.rowg { display: table-row-group; }
.head { display: table-header-group; }
.foot { display: table-footer-group; }
.col { display: table-column; }
.colg { display: table-column-group; }
.flex { display: flex; }
.iflex { display: inline-flex; }
.li { display: list-item; }
.ib { display: inline-block; }
.inline { display: inline; }
.columns { columns: 2; height: 4em; }
.contents {
  display: contents;
  align-items: inherit;
  justify-items:inherit;
}
.c1 { color: lime; }
.c2 { background: blue; color: pink; }
.c3 { color: teal; }
.c4 { color: green; }
.c5 { color: silver; }
.c6 { color: cyan; }
.c7 { color: magenta; }
.c8 { color: yellow; }
.c9 { color: grey; }
.c10{ color: black; }
.b { background: inherit; }

/** This is the only difference between references and non-reference styles */
.ref .c2 { background: transparent; }
.ref .b { background:blue; }
.ref div.contents { display: block; }
.ref span.contents { display: inline; }
</style>
<script src="support/util.js"></script>
<div style="color: red">
  <div class="columns">
  <div class="contents c1"><div class="contents c2"><div>1<span class="b">1</span></div></div></div>
  <div class="contents c2"><div>2</div></div>
  <div class="contents c3"><div>3</div></div>
  </div>

  <div class="columns">
  <div class="columns contents">
  <div class="contents c1"><div class="contents c2"><div>1<span class="b">1</span></div></div></div>
  <div class="contents c2"><div>2</div></div>
  <div class="contents c3"><div>3</div></div>
  </div>
  </div>
</div>
<script>
window.onload = function() {
  eachDisplayContentsElementIn(document, window,
      function(e) { e.style.display = 'inline'; },
      function(e) { e.style.display = ''; })
}
</script>
